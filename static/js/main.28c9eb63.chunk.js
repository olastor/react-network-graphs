(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){e.exports=n(266)},170:function(e,t,n){},172:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),s=n.n(o),i=(n(170),n(26)),c=n(57),l=n(38),d=n(7),u=n(4),f=n(58),b=n(59),h=n(62),v=n(60),p=n(63),y=(n(172),n(39)),g=n.n(y),m=n(40),w=[{selector:"edge",style:{label:"data(label)","target-arrow-shape":"triangle","target-arrow-color":"#aaa","line-color":"#aaa","text-background-opacity":1,"text-background-color":"#fff","text-background-shape":"roundrectangle","text-background-padding":"3px","target-endpoint":"outside-to-line","curve-style":"bezier"}},{selector:"node",style:{label:"data(label)","text-valign":"center","text-halign":"center","background-color":"#fff","border-width":1,"border-color":"#000"}},{selector:".labeled",style:{"background-color":"#29b6f6"}},{selector:".scanned",style:{"border-width":3,"border-color":"#33691e"}},{selector:".marked-edge",style:{"line-color":"#689f38","target-arrow-color":"#689f38"}}],S=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={network:{numberOfNodes:6,edges:[[0,1,0,5],[0,2,0,6],[1,3,0,1],[1,4,0,2],[2,4,0,1],[3,5,0,2],[4,5,0,3]]},intermediateStep:!1,nodesLabeled:[],nodesScanned:[],nodesPre:{},nodePositions:{0:{x:0,y:50},1:{x:100,y:0},2:{x:100,y:100},3:{x:200,y:0},4:{x:200,y:100},5:{x:300,y:50}},stepCounter:0,terminated:!1,previousStates:[]},n}return Object(p.a)(t,e),Object(b.a)(t,[{key:"toCytoscapeNetwork",value:function(){var e=this;return Object(u.a)(new Array(this.state.network.numberOfNodes).fill(void 0).map(function(t,n){return{data:{id:n,label:0===n?"s":n===e.state.network.numberOfNodes-1?"t":n},position:e.state.nodePositions[n],classes:"".concat(e.state.nodesLabeled.includes(n)?"labeled ":"").concat(e.state.nodesScanned.includes(n)?"scanned ":"")}})).concat(Object(u.a)(this.state.network.edges.map(function(t){var n=Object(d.a)(t,4),a=n[0],r=n[1],o=n[2],s=n[3];return{data:{source:a,target:r,label:"".concat(o,"/").concat(s)},classes:e.state.nodesPre[r]===a?"marked-edge":""}})))}},{key:"toCytoscapeResidual",value:function(){var e=this;return Object(u.a)(new Array(this.state.network.numberOfNodes).fill(void 0).map(function(t,n){return{data:{id:n,label:0===n?"s":n===e.state.network.numberOfNodes-1?"t":n},position:e.state.nodePositions[n],classes:"".concat(e.state.nodesLabeled.includes(n)?"labeled ":"").concat(e.state.nodesScanned.includes(n)?"scanned ":"")}})).concat(Object(u.a)(this.state.network.edges.filter(function(e){var t=Object(d.a)(e,4),n=(t[0],t[1],t[2]);return t[3]-n>0}).map(function(e){var t=Object(d.a)(e,4),n=t[0],a=t[1],r=t[2],o=t[3];return{data:{source:n,target:a,label:"".concat(o-r)}}})),Object(u.a)(this.state.network.edges.filter(function(e){var t=Object(d.a)(e,4),n=(t[0],t[1],t[2]);t[3];return n>0}).map(function(e){var t=Object(d.a)(e,4),n=t[0],a=t[1],r=t[2];t[3];return{data:{source:a,target:n,label:"".concat(r)}}})))}},{key:"handlePrevStep",value:function(){this.setState(function(e){return e.previousStates[0]})}},{key:"handleNextStep",value:function(){var e=this;if(!this.state.terminated)if(0!==this.state.nodesLabeled.length||0!==this.state.nodesScanned.length){var t=this.state.network.numberOfNodes-1;if(this.setState(function(e){return{previousStates:[e].concat(Object(u.a)(e.previousStates))}}),this.state.nodesLabeled.includes(t))!function(){for(var n=[t],a=t;0!==a;)a=e.state.nodesPre[a],n=[a].concat(Object(u.a)(n));for(var r=[],o=0;o<n.length;o++){var s=!0,i=!1,f=void 0;try{for(var b,h=e.state.network.edges[Symbol.iterator]();!(s=(b=h.next()).done);s=!0){var v=b.value,p=Object(d.a)(v,4),y=p[0],g=p[1],m=p[2],w=p[3];if(y===n[o]&&g===n[o+1]){r.push(w-m);break}}}catch(C){i=!0,f=C}finally{try{s||null==h.return||h.return()}finally{if(i)throw f}}}for(var S=Math.min.apply(Math,r),k=0;k<n.length;k++){var O=!0,j=!1,x=void 0;try{for(var N,E=function(){var t=N.value,a=(P=Object(d.a)(t,4))[0],r=P[1],o=P[2],s=P[3];if(a===n[k]&&r===n[k+1])return e.setState(function(e){return{network:Object(l.a)({},e.network,{edges:Object(u.a)(e.network.edges.filter(function(e){var t=Object(c.a)(e),n=t[0],o=t[1];t.slice(2);return!(n===a&&o===r)})).concat([[a,r,o+S,s]])})}}),"break"},L=e.state.network.edges[Symbol.iterator]();!(O=(N=L.next()).done);O=!0){var P;if("break"===E())break}}catch(C){j=!0,x=C}finally{try{O||null==L.return||L.return()}finally{if(j)throw x}}}e.setState(function(t){for(var a={nodesPre:{},nodesLabeled:[0],nodesScanned:[],intermediateStep:!0},r=0;r<n.length;r++){var o=!0,s=!1,i=void 0;try{for(var c,l=e.state.network.edges[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,f=Object(d.a)(u,4),b=f[0],h=f[1];f[2],f[3];if(b===n[r]&&h===n[r+1]){a.nodesPre[h]=b;break}}}catch(C){s=!0,i=C}finally{try{o||null==l.return||l.return()}finally{if(s)throw i}}}return a})}();else{if(this.state.intermediateStep)return void this.setState({intermediateStep:!1,nodesPre:{}});var n=this.state.nodesLabeled.filter(function(t){return!e.state.nodesScanned.includes(t)})[0];if(void 0===n)return void this.setState({terminated:!0});this.state.network.edges.map(function(t){var a=Object(d.a)(t,4),r=a[0],o=a[1],s=a[2],c=a[3];r!==n||c-s<=0||e.state.nodesLabeled.includes(o)||e.setState(function(e){return{nodesLabeled:Object(u.a)(e.nodesLabeled).concat([o]),nodesPre:Object(l.a)({},e.nodesPre,Object(i.a)({},o,n))}})}),this.setState(function(e){return{nodesScanned:Object(u.a)(e.nodesScanned).concat([n])}},function(t){return console.log(e.state)})}this.setState(function(e){return{stepCounter:e.stepCounter+1}})}else this.setState({nodesLabeled:[0]})}},{key:"convertSetOfNodesToLabels",value:function(e){var t=this;return e.map(function(e){return e.toString().replace("0","s").replace((t.state.network.numberOfNodes-1).toString(),"t")})}},{key:"render",value:function(){var e=this,t={name:"preset"};return r.a.createElement("div",{className:"graphApp"},r.a.createElement(m.a,{onClick:function(){return e.handlePrevStep()}},"Prev Step"),r.a.createElement(m.a,{onClick:function(){return e.handleNextStep()}},"Next Step"),r.a.createElement("span",null,"Step: ",r.a.createElement("b",null,this.state.stepCounter)," ",this.state.terminated?"(TERMINATED)":""),r.a.createElement("span",null,"LABELED: ",JSON.stringify(this.convertSetOfNodesToLabels(this.state.nodesLabeled))),r.a.createElement("span",null,"SCANNED: ",JSON.stringify(this.convertSetOfNodesToLabels(this.state.nodesScanned))),r.a.createElement("div",{style:{display:"flex",width:"100%",height:"calc(100% - 100px)"}},r.a.createElement(g.a,{elements:this.toCytoscapeNetwork(),layout:t,stylesheet:w,style:{width:"100%",height:window.innerHeight}}),r.a.createElement(g.a,{elements:this.toCytoscapeResidual(),layout:t,stylesheet:w,style:{width:"100%",height:window.innerHeight}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,2,1]]]);
//# sourceMappingURL=main.28c9eb63.chunk.js.map